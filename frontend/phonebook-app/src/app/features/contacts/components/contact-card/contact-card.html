<div class="card h-100 shadow-sm rounded-3">
  <div class="card-body d-flex flex-column">
    <h5 class="card-title d-flex justify-content-between align-items-center mb-3">
      <span class="text-truncate" style="max-width: 70%;">
        {{ contact.name }}
      </span>
      <button
        type="button"
        class="btn btn-sm d-flex align-items-center justify-content-center"
        [class.btn-warning]="contact.favorite === 'Y'"
        [class.btn-outline-secondary]="contact.favorite !== 'Y'"
        (click)="onToggleFavorite()"
        ngbTooltip="Toggle Favorite"
        aria-label="Toggle Favorite"
        style="width: 32px; height: 32px; border-radius: 50%; transition: background-color 0.3s ease;"
      >
        <i class="bi" [ngClass]="{
          'bi-star-fill': contact.favorite === 'Y',
          'bi-star': contact.favorite !== 'Y'
        }" style="font-size: 1.2rem;"></i>
      </button>
    </h5>

    <p class="card-text mb-2"><strong>Email:</strong> {{ contact.email }}</p>
    <p class="card-text mb-2"><strong>Cell Phone:</strong> {{ contact.mobile }}</p>
    <p class="card-text mb-0"><strong>Phone:</strong> {{ contact.phone || 'N/A' }}</p>

    <div class="mt-auto pt-3 border-top d-flex gap-2">
      <button
        type="button"
        class="btn btn-primary btn-sm flex-fill d-flex align-items-center justify-content-center gap-1"
        (click)="onEdit()"
        aria-label="Edit Contact"
      >
        <i class="bi bi-pencil"></i>
        Edit
      </button>

      <button
        type="button"
        class="btn btn-danger btn-sm flex-fill d-flex align-items-center justify-content-center gap-1"
        (click)="onDeactivate()"
        aria-label="Deactivate Contact"
      >
        <i class="bi bi-trash"></i>
        Deactivate
      </button>
    </div>
  </div>
</div>
